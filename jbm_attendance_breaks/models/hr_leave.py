# -*- coding: utf-8 -*-from odoo import models, fields, api, _from datetime import timedeltaclass HRLeave(models.Model):    _inherit = 'hr.leave'    def action_validate(self):        res = super(HRLeave, self).action_validate()        leaves = self.filtered(lambda leave: leave.holiday_status_id.request_unit != 'day')        if leaves:            employees = leaves.mapped('employee_id')            employee_leave_days = [leave.request_date_from for leave in leaves]            unique_leave_days = list(set(employee_leave_days))            unique_leave_days.sort()            self.env['hr.attendance.sheet']._set_breaks(employees, unique_leave_days)        return res    def action_refuse(self):        res = super(HRLeave, self).action_refuse()        leaves = self.filtered(lambda leave: leave.holiday_status_id.request_unit != 'day')        if leaves:            employees = leaves.mapped('employee_id')            employee_leave_days = [leave.request_date_from for leave in leaves]            unique_leave_days = list(set(employee_leave_days))            unique_leave_days.sort()            self.env['hr.attendance.sheet']._set_breaks(employees, unique_leave_days)        return res